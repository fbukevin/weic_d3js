<!DOCTYPE html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<style>

@import url(http://fonts.googleapis.com/css?family=PT+Serif|PT+Serif:b|PT+Serif:i);

section {
  background: #000;
  color: #fff;
  padding: 2em;
  font-family: "PT Serif", Baskerville, Georgia;
}

#follow {
  background: none;
}

.grey {
  color: #777;
}

a:link,
a:visited {
  color: orange;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

#top_page {
  text-align: center;
  padding-top: 5em;
  background-image: url(d3.jpg);
  background-repeat: no-repeat;
  background-position: center center;
  background-attachment: fixed;
}

.left_div {
  float: left;
}

.right_div {
  float: right;
}

.page_title {
  color: orange;
  font-size: 120%;
  text-decoration: underline;
}

#layout_list {
  line-height: 35px;
}

.code {
  background-color: white; 
  border-color: lightgreen;
  border-style: solid;
  border-radius: 5px;
  border-width: 2px;
  color: black;
}
</style>

<!-- 1 -->
<section id="top_page" style="">
  <br><br><br><br>
  <p style="font-size:120%;">暗黑3 告訴你資料長什麼樣子?</p>
  <p>http://goo.gl/4k5pxt</p>
  <p>Veck Hsiao @ 2015/12/21</p>
</section>

<!-- 2 -->
<section style="padding: 6em;">
  <div class="left_div">
    <p class='page_title'>Who am I</p>
    <p>Veck Hsiao (蕭奕凱)</p>
    <p>露天拍賣網頁工程師</p>
  </div> 
  <div class="right_div">
    <img src="namecard.png">
  </div>  
</section>

<!-- 3 -->
<section  style="padding: 6em;">
  <div class="left_div">
    <p class="page_title">Who am I</p>
    <p>GitHub: fbukevin</p>
  </div>
  <div class="right_div">
    <img src="github.png">
  </div>
</section>

<!-- 4 -->
<section >
  <p class="page_title">Spermatozoa</p>
  <div id="sperm"></div>
  <!--原本是黑底白子，但這樣太噁心，所以改成百底黑子，變成蝌蚪-->
</section>

<!-- 5 -->
<section>
  <p class="page_title">Open Data</p>  
  <p>近年來政府單位或組織開放公開資料，促進資料分析、應用與視覺化發展<br>
    <img src="open_data.png">
  </p>
</section>

<!-- 6 -->
<section>
  <p class="page_title">Data Visualization</p>
  <p>將資料集以圖形或動畫的直觀方式呈現
    <img src="data_visualize.png">
  </p>
</section>

<!-- 7-->
<section  style="padding: 5em;">
  <div class="left_div">
    <p class="page_title">D3.js</p>
    <ul>
      <li><font color="red">D</font>ata-<font color="red">D</font>riven <font color="red">D</font>ocuments</li>
      <li>by <a href="http://bost.ocks.org/mike/">Mike Bostock</a></li>
      <li>JavaScript 資料視覺化工具</li>
      <li>類 jQuery 的 DOM 操作方式</li>
      <li>透過 SVG 或 Canvas 呈現資料樣貌</li>
      <li>強大的資料處理能力</li>
    </ul>    
  </div>
  <div class="right_div">
    <img src="d3js.jpg">
  </div>
</section>

<!-- 8 -->
<section style="padding: 5em;">
  <div class="left_div">
    <p class="page_title">Who use D3.js</p>
    <p>台灣之光</p>
    <img src="g0v.png">
  </div>
  <div class="right_div">
    <img src="g0v1.png">
  </div>
</section>

<!-- 9 -->
<section style="padding: 5em;">
  <div class="left_div">
    <p class="page_title">Who use D3.js</p>
    <p>台灣之光</p>
    <img src="g0v.png">
  </div>
  <div class="right_div">
    <img src="g0v2.png">
  </div>
</section>

<!-- 10 -->
<section style="padding: 5em;">
  <div class="left_div">
    <p class="page_title">Who use D3.js</p>
    <p>台灣之光</p>
    <img src="g0v.png">
  </div>
  <div class="right_div">
    <img src="g0v3.png">
  </div>
</section>

<!-- 12 -->
<section  style="padding: 7em;">
  <div class="left_div">
    <p class="page_title">Technology</p>
    <p>CSS</p>
    <p>設定圖形元件的樣式
  </div>
  <div class="right_div">
    <img src="css3.jpg">
  </div>
</section>

<!-- 13 -->
<section  style="padding: 7em;">
  <div class="left_div">
    <p class="page_title">Technology</p>
    <p>&ltsvg&gt、HTML &ltcanvas&gt</p>
    <p>將資料以圖形方式呈現</p>
  </div>
  <div class="right_div">
    <img src="svg.png"><br>
    <img src="canvas.jpg">
  </div>
</section>

<!-- 14 -->
<section  style="padding: 7em;">
  <div class="left_div">
    <p class="page_title">Technology</p>
    <p>JavaScript</p>
    <p>操作與控制資料和圖形元件</p>
  </div>
  <div class="right_div">
    <img src="js.png">
  </div>
</section>

<!-- 15 -->
<section>
  <p class="page_title">Partition</p>
  <p>d3 共有 8 大塊：
    <ul>
      <li>Behavior: drag 或 zoom(拉近拉遠)</li>
      <li>Core: select, transit, array, math, data, format, color 等基本資料操作</li>
      <li>Geography: 提供地理資訊的操作</li>
      <li>Geometry: 提供幾何圖形的操作</li>
      <li>Layouts: 提供圖的型態</li>
      <li>Scales: quantitive(量級) 或 ordinal(序性)處理</li>
      <li>SVG: SVG 操作</li>
      <li>Time: 時間資訊的操作</li>
    </ul>
  </p>
</section>

<!-- 16 -->
<section>
  <p class="page_title">Layout</p>
  <p>D3 內建 Layout 類別
  <ul id='layout_list'>
    <li>Bundle</li>
    <li>Chord</li>
    <li>Cluster</li>
    <li>Force</li>
    <li>Hierarchy</li>
    <li>Histogram</li>
    <li>Pack</li>
    <li>Partition</li>
    <li>Pie</li>
    <li>Stack</li>
    <li>Tree</li>
    <li>Treemap</li>
  </ul>
  </p>
</section>

<!-- 17 -->
<section  style="padding: 6em;">
  <div class="left_div">
    <p>D3 內建 Layout 類別 - Bundle</p>
  </div>
  <div class="right_div">
    <img src="bundle.png">
  </div>
</section>

<!-- 18 -->
<section  style="padding: 6em;">
  <div class="left_div">
    <p>D3 內建 Layout 類別 - Chord</p>
  </div>
  <div class="right_div">
    <img src="chord.png">
  </div>
</section>

<!-- 20 -->
<section  style="padding: 6em;">
  <div class="left_div">
    <p>D3 內建 Layout 類別 - Force</p>
  </div>
  <div class="right_div">
    <img src="force.png">
  </div>
</section>

<!-- 21 -->
<section  style="padding: 6em;">
  <div class="left_div">
    <p>D3 內建 Layout 類別 - Hierarchy</p>
  </div>
  <div class="right_div">
    <blockquote>The hierarchy layout is an abstract layout that is not used directly.<br>
    - <a href="https://github.com/mbostock/d3/wiki/Hierarchy-Layout">d3 wiki</a>
    </blockquote>
  </div>
</section>

<!-- 22 -->
<section  style="padding: 6em;">
  <div class="left_div">
    <p>D3 內建 Layout 類別 - Histogram</p>
  </div>
  <div class="right_div">
    <img src="histogram.png">
  </div>
</section>

<!-- 23 -->
<section  style="padding: 6em;">
  <div class="left_div">
    <p>D3 內建 Layout 類別 - Pack</p>
  </div>
  <div class="right_div">
    <img src="pack.png">
  </div>
</section>

<!-- 24 -->
<section  style="padding: 6em;">
  <div class="left_div">
    <p>D3 內建 Layout 類別 - Partition</p>
  </div>
  <div class="right_div">
    <img src="partition.png">
  </div>
</section>

<!-- 25 -->
<section  style="padding: 6em;">
  <div class="left_div">
    <p>D3 內建 Layout 類別 - Pie</p>
  </div>
  <div class="right_div">
    <img src="pie.png">
  </div>
</section>
<!-- 26 -->
<section  style="padding: 6em;">
  <div class="left_div">
    <p>D3 內建 Layout 類別 - Stack</p>
  </div>
  <div class="right_div">
    <img src="stack.png">
  </div>
</section>

<!-- 19 -->
<section  style="padding: 6em;">
  <div class="left_div">
    <p>D3 內建 Layout 類別 - Cluster</p>
  </div>
  <div class="right_div">
    <img src="cluster.png">
  </div>
</section>

<!-- 27 -->
<section  style="padding: 6em;">
  <div class="left_div">
    <p>D3 內建 Layout 類別 - Tree</p>
  </div>
  <div class="right_div">
    <img src="tree.png">
  </div>
</section>

<!-- 28 -->
<section  style="padding: 6em;">
  <div class="left_div">
    <p>D3 內建 Layout 類別 - Treemap</p>
  </div>
  <div class="right_div">
    <img src="treemap.png">
  </div>
</section>

<!-- 29 -->
<section>
  <p class="page_title">Use D3.js - load library</p>
  <p>HTML</p>
  <div class="code">&ltscript src="http://d3js.org/d3.v3.min.js"&gt&lt/script&gt</div>
</section>

<!-- 30 -->
<section>
  <p class="page_title">Use D3.js - select elemet</p>
  <p>HTML</p>
  <div class="code">
    &ltdiv&gtred<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&ltdiv&gtgreen&lt/div&gt<br>
    &lt/div&gt
  </div>
  <p>JavaScript:</p>
  <div class="code">
    d3.<font color="red">select</font>('div').style({ 'color': 'red' });
    <br>
    d3.<font color="red">select</font>('div div').style({ 'color': 'green' });
  </div>
</section>

<!-- 31 -->
<section  style="padding: 6em;">
  <div class="left_div">
    <p class="page_title">Use D3.js - select elemet</p>
    <img src="red_green.png">
  </div>
  <div class="right_div">
    <p>也可以串著寫：
    <div class="code">
      d3.select('div').style({ 'color': 'red' })<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.select('div').style({ 'color': 'green' });
    </div>
  </div>
</section>

<!-- 32 -->
<section>
  <p class="page_title">Use D3.js - append element</p>
  <div class="code">
  d3.select('body')<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<font color="red">append</font>('div')<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.html('My name is Veck')<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.style({<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'border':'1px solid #000',<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'width':'120px'<br>
  });
  </div>
</section>

<!-- 33 -->
<section  style="padding: 6em;">
  <div class="left_div">
    <p class="page_title">Use D3.js - append elemet</p>
    <img src="append.png">
  </div>
</section>

<!-- 34 -->
<section>
  <p class="page_title">Draw SVG</p>
  <p>插入 &ltsvg&gt 元素到 &ltbody&gt 中</p>
  <div class="code">
  d3.select('body')<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.append('<font color="red">svg</font>')<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.attr({<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'width':200,<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'height':200<br>
  });
  </div>
</section>

<!-- 35 -->
<section>
  <p class="page_title">Draw SVG</p>
  <p>插入 &ltcircle&gt 到 &ltsvg&gt 中來畫圖</p>
  <div class="code">
  d3.select('svg')<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.append('<font color="red">circle</font>')<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.attr({<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'cx':50,<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'cy':50,<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'r':30,<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'fill':'#f3b',<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'stroke':'blue',<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'stroke-width':'5px'<br>
  });
  </div>
</section>

<!-- 36 -->
<section  style="padding: 6em;">
  <div class="left_div">
    <p class="page_title">Draw SVG</p>
    <img src="draw.png">
  </div>
</section>

<!-- 37 -->
<section>  
  <p class="page_title">Data Visualization by D3.js</p>
  <p>選擇 HTML 元素後，我們可以透過 D3.js 的 <font color="lightgreen"><em>d3.data()<em></font> 來載入資料</p>
  <div class="code">
    var dataSet = [1, 2, 3, 4, 5];<br><br>
    d3.select('body').selectAll('div')<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<font color="red">data</font>(dataSet)&nbsp;&nbsp;&nbsp;&nbsp;// load data<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<font color="green">enter</font>()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// "show" data element<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.append('div')<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.text('Hi!');<br>
  </div>
</section>

<!-- 38 -->
<section  style="padding: 6em;">
  <div class="left_div">
    <p class="page_title">Data Visualization by D3.js</p>
    <img src="hi.png">
  </div>
</section>

<!-- 39 -->
<section>  
  <p class="page_title">Data Visualization by D3.js</p>
  <p>可以透過 callback function 指定 text 內容
  <div class="code">
    var dataSet = [1, 2, 3, 4, 5];<br><br>
    d3.select('body').selectAll('div')<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.data(dataSet)&nbsp;&nbsp;&nbsp;&nbsp;// load data<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.enter()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// "show" data element<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.append('div')<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.text(<font color="blue">function(d){<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return d;<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</font>);
  </div>
</section>

<!-- 40 -->
<section  style="padding: 6em;">
  <div class="left_div">
    <p class="page_title">Data Visualization by D3.js</p>
    <img src="callback.png">
  </div>
</section>

<!-- 41 -->
<section>  
  <p class="page_title">Data Visualization by D3.js</p>
  <p>幫插入的 &ltdiv&gt 設定樣式
  <div class="code">
    var dataSet = [1, 2, 3, 4, 5];<br><br>
    d3.select('body').selectAll('div')<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.append('div')<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.text(function(d){&nbsp;&nbsp;return d;&nbsp;&nbsp;})<br>
    .<font color="red">style</font>({&nbsp;&nbsp;礙於篇幅，請見下頁&nbsp;&nbsp;});
  </div>
</section>

<!-- 42 -->
<section>  
  <p class="page_title">Data Visualization by D3.js</p>
  <p>幫插入的 &ltdiv&gt 設定樣式
  <div class="code">
    // 剛剛的 style 內容<br>
    .style({<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'color':&nbsp;&nbsp;function(d){&nbsp;&nbsp;if(d < 4){&nbsp;&nbsp;return 'red' &nbsp;&nbsp;}&nbsp;&nbsp;},<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'width':&nbsp;&nbsp;function(d){ return d*10 + 'px' },<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'margin':&nbsp;&nbsp;'2px 0',<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'background':&nbsp;&nbsp;'lightgreen'<br>
    });
  </div>
</section>

<!-- 43 -->
<section  style="padding: 6em;">
  <div class="left_div">
    <p class="page_title">Data Visualization by D3.js</p>
    <img src="style.png">
  </div>
</section>

<!-- 44 -->
<section>
  <p class="page_title">More</p>
  <ul>
    <li>改用 Canvas 來加速繪製</li>
    <li>透過 d3.csv(), d3.json(), d3.tsv() ... 等函式來載入外部資料</li>
    <li>套用 Layout 來做出各種不同的資料視覺化圖形</li>
  </ul> 
</section>

<!-- 45 -->
<section>
  <p class="page_title"><a href="https://jsfiddle.net/7k6vb91k/">Demo</a></p>
</section>

<!-- 46 -->
<section>
  <p class="page_title"> Resource </p>
  <ul>
    <li><a href="http://www.oxxostudio.tw/list.html">OXXO</a></li>
    <li><a href="http://blog.infographics.tw/2015/07/optimize-d3-with-canvas/">Canvas 把我的視覺化變「快」了！</a></li>
    <li><a href="http://blog.infographics.tw">資料視覺化(網站)</a></li>
    <li><a href="http://www.tableau.com/new-features/9.2">Tableau</a></li>
    <li><a href="http://www.cloudstitch.com/d3-in-a-box">d3 in box</a></li>
    <li><a href="https://plot.ly/">Plotly (Python + D3.js)</a></li>
  </ul>
</section>

<!-- final page  -->
<section >
  <p class="page_title">Q & A</a>
  <p>Slide: <a href="http://fbukevin.github.io/weic_d3js">http://fbukevin.github.io/weic_d3js</a></p>
  <p>Contact: fbukevin@gmail.com</p>
</section>

<script src="d3.v3.min.js"></script>
<script src="stack.v1.min.js"></script>
<script>
// 滑動主程式

var mystack = stack()
    .on("activate", activate)
    .on("deactivate", deactivate);

var section = d3.selectAll("section"),
    follow = d3.select("#follow"),
    followAnchor = d3.select("#follow-anchor"),
    followIndex = section[0].indexOf(follow.node());

function refollow() {
  followAnchor.style("top", (followIndex + (1 - mystack.scrollRatio()) / 2 - d3.event.offset) * 100 + "%");
}

function activate(d, i) {
  if (i === followIndex) mystack.on("scroll.follow", refollow);
}

function deactivate(d, i) {
  if (i === followIndex) mystack.on("scroll.follow", null);
}

</script>
<script src="sperm.js"></script>
<link rel="stylesheet" type="text/css" href="sperm.css">
